let canvas;
let ctx;
let character_x = 200;
let character_y = 150;
let character_energy = 100;
let final_boss_energy = 100;
let boss_energy_index = 0;
let bg_ground = 0;
let bg_sky = 0;
let bg_hills = 0;
let bg_shadows = 0;
let isMovingRight = false;
let isMovingLeft = false;
let isJumping = false;
let isJumpingUp = false;
let lastJumpStarted = 0;
let isFacingRight = true;
let isFacingLeft = false;
let isFallingDown = false;
let isSleeping = false;
let isThrowingRight = false;
let isThrowingLeft = false;
let currentJumpbar;
let isUp = false;
let isHurt = false;
let isDead = false;
let lastStandStarted = 0;
let lastHurtStarted = 0;
let timePassedSinceHurt = 0;
let deadStarted = 0;
let timePassedSinceDead = 0;
let currentCharacterImage = './img/pepe/I-1.png';
let characterGraphicsStandRight = ['./img/pepe/I-1.png', './img/pepe/I-2.png', './img/pepe/I-3.png', './img/pepe/I-4.png', './img/pepe/I-5.png', './img/pepe/I-6.png', './img/pepe/I-7.png', './img/pepe/I-8.png', './img/pepe/I-9.png', './img/pepe/I-10.png'];
let characterGraphicsStandLeft = ['./img/pepe/IL-1.png', './img/pepe/IL-2.png', './img/pepe/IL-3.png', './img/pepe/IL-4.png', './img/pepe/IL-5.png', './img/pepe/IL-6.png', './img/pepe/IL-7.png', './img/pepe/IL-8.png', './img/pepe/IL-9.png', './img/pepe/IL-10.png'];
let characterGraphicsSleepRight = ['./img/pepe/I-11.png', './img/pepe/I-12.png', './img/pepe/I-13.png', './img/pepe/I-14.png', './img/pepe/I-15.png', './img/pepe/I-16.png', './img/pepe/I-17.png', './img/pepe/I-18.png', './img/pepe/I-19.png', './img/pepe/I-20.png'];
let characterGraphicsSleepLeft = ['./img/pepe/IL-11.png', './img/pepe/IL-12.png', './img/pepe/IL-13.png', './img/pepe/IL-14.png', './img/pepe/IL-15.png', './img/pepe/IL-16.png', './img/pepe/IL-17.png', './img/pepe/IL-18.png', './img/pepe/IL-19.png', './img/pepe/IL-20.png'];
let characterGraphicsWalkRight = ['./img/pepe/W-21.png', './img/pepe/W-22.png', './img/pepe/W-23.png', './img/pepe/W-24.png', './img/pepe/W-25.png', './img/pepe/W-26.png'];
let characterGraphicsWalkLeft = ['./img/pepe/WL-21.png', './img/pepe/WL-22.png', './img/pepe/WL-23.png', './img/pepe/WL-24.png', './img/pepe/WL-25.png', './img/pepe/WL-26.png'];
let characterGraphicsJumpRight = ['./img/pepe/J-31.png', './img/pepe/J-32.png', './img/pepe/J-33.png', './img/pepe/J-34.png', './img/pepe/J-35.png', './img/pepe/J-38.png', './img/pepe/J-38.png'];
let characterGraphicsJumpLeft = ['./img/pepe/JL-31.png', './img/pepe/JL-32.png', './img/pepe/JL-33.png', './img/pepe/JL-34.png', './img/pepe/JL-35.png', './img/pepe/JL-38.png', './img/pepe/JL-39.png'];
let characterGraphicsHurtRight = ['./img/pepe/D-51.png', './img/pepe/D-52.png', './img/pepe/D-53.png', './img/pepe/D-54.png', './img/pepe/D-55.png', './img/pepe/D-56.png'];
let characterGraphicsHurtLeft = ['./img/pepe/DL-51.png', './img/pepe/DL-52.png', './img/pepe/DL-53.png', './img/pepe/DL-54.png', './img/pepe/DL-55.png', './img/pepe/DL-56.png'];
let characterGraphicsDeadRight = ['./img/pepe/H-41.png', './img/pepe/H-42.png', './img/pepe/H-43.png', './img/pepe/J-40.png'];
let characterGraphicsDeadLeft = ['./img/pepe/HL-41.png', './img/pepe/HL-42.png', './img/pepe/HL-43.png', './img/pepe/J-40.png'];
let characterGraphicIndex = 0;
let characterHurtGraphicIndex = 0;
let characterGraphicJumpIndex = 0;
let cloudOffset = 0;
let chickens = [];
let currentChickenImage = './img/chicken/chicken1.png';
let chickenGraphics = ['./img/chicken/chicken1.png', './img/chicken/chicken2.png', './img/chicken/chicken3.png'];
let chickenGraphicIndex = 0;
let currentHenImage = './img/chicken/hen1.png';
let hens = [];
let hensGraphicsLeft = ['./img/chicken/hen1.png', './img/chicken/hen2.png', './img/chicken/hen3.png'];
let hensGraphicsRight = ['./img/chicken/henR1.png', './img/chicken/henR2.png', './img/chicken/henR3.png'];
let hensGraphicIndex = 0;
let currentBossImage = './img/boss/G5.png';
let bossAlertGraphics = ['./img/boss/G5.png', './img/boss/G6.png', './img/boss/G7.png', './img/boss/G8.png', './img/boss/G9.png', './img/boss/G10.png', './img/boss/G11.png', './img/boss/G12.png'];
let bossWalkLeftGraphics = ['./img/boss/G1.png', './img/boss/G2.png', './img/boss/G3.png', './img/boss/G4.png'];
let bossWalkRightGraphics = ['./img/boss/GR1.png', './img/boss/GR2.png', './img/boss/GR3.png', './img/boss/GR4.png'];
let bossAttackLeftGraphics = ['./img/boss/G13.png', './img/boss/G14.png', './img/boss/G15.png', './img/boss/G16.png', './img/boss/G17.png', './img/boss/G18.png', './img/boss/G19.png', './img/boss/G20.png'];
let bossAttackRightGraphics = ['./img/boss/GR13.png', './img/boss/GR14.png', './img/boss/GR15.png', './img/boss/GR16.png', './img/boss/GR17.png', './img/boss/GR18.png', './img/boss/GR19.png', './img/boss/GR20.png'];
let bossHurtLeftGraphics = ['./img/boss/G21.png', './img/boss/G22.png', './img/boss/G23.png', './img/boss/G21.png', './img/boss/G22.png', './img/boss/G23.png'];
let bossHurtRightGraphics = ['./img/boss/GR21.png', './img/boss/GR22.png', './img/boss/GR23.png', './img/boss/GR21.png', './img/boss/GR22.png', './img/boss/GR23.png'];
let bossDeadLeftGraphics = ['./img/boss/G24.png', './img/boss/G25.png', './img/boss/G26.png'];
let bossDeadRightGraphics = ['./img/boss/GR24.png', './img/boss/GR25.png', './img/boss/GR26.png'];
let bossGraphicIndex = 0;
let bossIsFacingRight = false;
let bossIsFacingLeft = true;
let bossIsWalking = false;
let bossIsAlerted = true;
let bossIsAttacking = false;
let bossIsHurt = false;
let bossIsDead = false;
let index_hurt;
let index_attack;
let bossEnergyGraphics = ['./img/bars/bossenergy1.png', './img/bars/bossenergy2.png', './img/bars/bossenergy3.png', './img/bars/bossenergy4.png', './img/bars/bossenergy5.png', './img/bars/bossenergy6.png'];
let currentBossEnergyImage = './img/bars/bossenergy1.png';
let bottleGraphics = ['./img/bottle/bottle.png', './img/bottle/bottle3.png', './img/bottle/bottle4.png', './img/bottle/bottle5.png'];
let tabascoImages = ['./img/bottle/tabasco1.png', './img/bottle/tabasco2.png', './img/bottle/tabasco3.png', './img/bottle/tabasco4.png', './img/bottle/tabasco5.png', './img/bottle/tabasco6.png'];
let currentBottleImage = './img/bottle/bottle.png';
let bottleGraphicIndex = 0;
let coinGraphics = ['img/coins/coin1.png', 'img/coins/coin2.png'];
let currentCoinImage = 'img/coins/coin1.png';
let coinGraphicIndex = 0;
let placedBottles = [];
let placedCoins = [];
let collectedBottles = 0;
let collectedCoins = 0;
let bottleThrowTime = 0;
let thrownBottle_x = 10000;
let thrownBottel_y = 10000;
let bottleIsBroken = false;
let bossDefeatedAt = 0;
let game_finished = false;
let lastKeyPressed = 0;
let gamestart = false;
let level1 = false;
let level2 = false;
let jumpBars = [];
let alternatingHens = [];

let musicIsOn = true;
let musicIsOff = false;
let soundIsOn = true;
let soundIsOff = false;

// -------------------------Game config-------------------------

let JUMP_TIME = 350; // in ms
let HURT_TIME = 700;
let DEAD_TIME = 500;
let GAME_SPEED = 7;
let BOSS_POSITION = 5000;
let AUDIO_RUNNING = new Audio('audio/running.mp3');
let AUDIO_JUMP = new Audio('audio/jump.mp3');
let AUDIO_HURT = new Audio('audio/hurt.mp3');
let AUDIO_BOTTLE = new Audio('audio/bottle.mp3');
let AUDIO_COIN = new Audio('audio/coin.mp3');
let AUDIO_THROW = new Audio('audio/throw.mp3');
let AUDIO_GLASS = new Audio('audio/glass.mp3');
let AUDIO_HEN = new Audio('audio/hen.mp3');
let AUDIO_CRACK = new Audio('audio/crack.mp3');
let AUDIO_FINAL_BOSS = new Audio('audio/final_boss.mp3');
let AUDIO_FINAL_BOSS2 = new Audio('audio/final_boss2.mp3');
let AUDIO_BACKGROUND_MUSIC = new Audio('audio/music.mp3');
AUDIO_BACKGROUND_MUSIC.loop = true;
AUDIO_BACKGROUND_MUSIC.volume = 0.2;